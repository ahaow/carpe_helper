<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        body {
            height: 3000px;
        }
    </style>
</head>

<body>
    <script>


        // function currying(fn) {
        //     // 存放每次调用的参数
        //     let args = []

        //     return function temp(...newArgs) {
        //         if (newArgs.length) {
        //             // 有参数就合并进去，然后返回自身
        //             args = [...args, ...newArgs]
        //             return temp
        //         } else {
        //             // 没有参数了，也就是最后一个了，执行累计结果操作并返回结果
        //             let val = fn.apply(this, args)
        //             args = []
        //             return val
        //         }
        //     }
        // }
        // const add = currying(reduce)
        // const ad1 = add(1)(2)
        // const ad2 = add(3)()
        // console.log(ad2) // 6


        function currying(func) {
            return function curried(...args) {
                if (args.length >= func.length) {
                    return func.apply(this, args)
                } else {
                    return function (...args2) {
                        return curried.apply(this, args.concat(args2))
                    }
                }
            }
        }


        // function currying(fn) {
        //     return function curried(args) {
        //         if (args.length === fn.length) {
        //             return fn.apply(this, args)
        //         } else {
        //             return function (...args2) {
        //                 return curried.apply(this, args.concat(args2))
        //             }
        //         }
        //     }
        // }
        function reduce(...args) {
            return args.reduce((a, b) => a + b)
        }
        const add = currying(reduce)
        console.log(add(1)(2))

    </script>
</body>

</html>